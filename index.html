<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzapp</title>
    <!-- FONT AWESOME  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- LINK CSS -->
    <link rel="stylesheet" href="style/style.css">
</head>
<body>
    <div id="app" class="container">
        <main class="d-flex">
            <section id="scrollbar" class="d-flex">
                <div class="user-profile d-flex">
                    <section class="user-img">
                        <img src="img/avatar_io.jpg" alt="User profile image">
                    </section>
                    <p>Gabriele</p>
                </div>
                <div class="new-message-notification"></div>
                <div class="search-bar">
                    <div class="input-searchbar-container d-flex">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" id="input-searchbar" name="input-searchbar" placeholder="Cerca o inizia una nuova chat">
                    </div>
                </div>
                <nav class="contacts">
                    <div class="single-contact-item d-flex" v-for="(singleContact, indexContact) in contacts" @click="findContact (indexContact)">
                        <section class="contact-img">
                            <img :src="singleContact.avatar" alt="Contact profile image">
                        </section>
                        <section class="single-contact-description">
                            <h4>{{singleContact.name}}</h4>
                            <span>{{singleContact.messages.slice(length - 1).message}}</span>
                        </section>

                    </div>
                </nav>

            </section>
            <section id="conversation-container">
                <div class="user-profile d-flex">
                    <section class="contact-img">
                        <img :src="contacts[activeContact].avatar" alt="Contact profile image">
                    </section>
                    <section class="single-contact-description">
                        <h4>{{contacts[activeContact].name}}</h4>
                    </section>
                </div>
                <div class="conversation">
                    <div class="message-container d-flex">
                        <article class="single-message d-flex" v-for = "singleMessage in contacts[activeContact].messages" :class = "singleMessage.status === 'sent' ? 'sented' : 'recieved'" >
                            <span>{{singleMessage.message}}</span>
                            <span>{{singleMessage.date.split(' ')[1].split(':')[0]}}:{{singleMessage.date.split(' ')[1].split(':')[1]}}</span>
                        </article>
                    </div>
                </div>
                <div class="input-message">
                    <div class="input-message-container d-flex">
                        <i class="fa-regular fa-face-smile"></i>
                        <input type="text" id="input-message" name="input-message" @keyup.enter="sendNewMessage" v-model="newMessageSented">
                        <i class="fa-solid fa-microphone"></i>
                    </div>
                </div>
            </section>
        </main>

    </div>


    <!-- SCRIPT VUE -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- SCRIPT JS -->
    <script src="js/script.js"></script>
</body>
</html>